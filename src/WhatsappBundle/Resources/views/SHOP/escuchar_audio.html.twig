{% extends admin.getTemplate('base_list_field') %}

{% block field %}
    {% if value %}
        {% set route_name = field_description.options.route.name %}
        {% if not field_description.options.identifier|default(false) and
        field_description.hasAssociationAdmin and
        field_description.associationadmin.hasRoute(route_name) and
        field_description.associationadmin.hasAccess(route_name, value) %}
            <div class="btn-group">

                {#<a class="btn btn-default btn-sm btn-block"
                   href="{{ field_description.associationadmin.generateObjectUrl(route_name, value, field_description.options.route.parameters) }}">
                    {{ value|render_relation_element(field_description) }} : to media
                </a>#}
                {% for file in object.files%}
                    {%if file.media is not null%}
                        <a class="btn btn-info btn-sm btn-block"
                           href="{% path file.media, 'reference' %}">
                             {{file.media.name}}
                        </a>
                        {#<audio src="{{ path('sonata_media_download', {'id': (file.media.id)}) }}" controls="controls" type="audio/mpeg" preload="preload">
                        </audio>#}
                        <audio src="{% path file.media, 'reference' %}" controls="controls" type="audio/wave" preload="preload">
                        </audio>
                    {%endif%}
                    {#<audio controls>
                        <source type="audio/ogg" src="{% path file.media, 'reference' %}">
                    </audio>#}

                {%endfor%}
                {#<a class="btn btn-link btn-sm btn-block"
                   href="{% path object.cv,'reference' %}">
                    {{ value|render_relation_element(field_description) }} :  Ouvrir
                </a>#}

            </div>
        {% else %}
            {{ value|render_relation_element(field_description) }}
        {% endif %}
    {% endif %}
{% endblock %}